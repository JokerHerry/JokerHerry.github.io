<?xml version="1.0" encoding="utf-8"?>
<search> 
  
    
    <entry>
      <title><![CDATA[Androidå››å¤§ç»„ä»¶ä¹‹æœåŠ¡]]></title>
      <url>/2017/10/16/Android%E5%9B%9B%E5%A4%A7%E7%BB%84%E4%BB%B6%E4%B9%8B%E6%9C%8D%E5%8A%A1/</url>
      <content type="html"><![CDATA[<p>Androidå››å¤§ç»„ä»¶ä¸€ï¼Œç›¸å½“äºä¸€ä¸ªçœ‹ä¸è§çš„Acticityï¼Œè™½ç„¶å¤šçº¿ç¨‹ä¹Ÿæ˜¯çœ‹ä¸è§çš„ï¼Œä¹Ÿæ˜¯åœ¨åå°é»˜é»˜è¿è¡Œçš„ï¼Œä½†æ˜¯æœåŠ¡serverå’Œå¤šçº¿ç¨‹Threadå®Œå…¨ä¸ä¸€æ ·ï¼ï¼ï¼servereè¿˜æ˜¯è¿è¡Œåœ¨ä¸»çº¿ç¨‹ä¸­ï¼Œæ‰€ä»¥åœ¨serviceä¸è¦è¿è¡Œè€—æ—¶çš„æ“ä½œï¼Œä¼šç›´æ¥æŠ¥é”™ï¼<br><a id="more"></a></p>
<p>æ‰€ä»¥ï¼Œå…ˆæ€»ç»“ä¸€ä¸‹serviceçš„ç‰¹ç‚¹ï¼Œç„¶åå†æ¥æŒ¨ç€éªŒè¯ï¼š<br>1ã€è¿è¡Œåœ¨ä¸»çº¿ç¨‹ï¼Œä¸å®œè¿›è¡Œè€—æ—¶æ“ä½œï¼›<br>2ã€ç›¸å½“äºä¸€ä¸ªéšå½¢çš„Activityï¼›<br>3ã€è¿è¡Œçš„å³ä½¿æ˜¯è¿è¡Œçš„è¿›ç¨‹æ­»æ‰ï¼ŒæœåŠ¡ä¹Ÿä¸ä¸€å®šä¼šæ­»æ‰ï¼›</p>
<h1 id="æ¥ä¸‹æ¥çœ‹ä¸€ä¸‹å¦‚ä½•ä½¿ç”¨"><a href="#æ¥ä¸‹æ¥çœ‹ä¸€ä¸‹å¦‚ä½•ä½¿ç”¨" class="headerlink" title="æ¥ä¸‹æ¥çœ‹ä¸€ä¸‹å¦‚ä½•ä½¿ç”¨"></a>æ¥ä¸‹æ¥çœ‹ä¸€ä¸‹å¦‚ä½•ä½¿ç”¨</h1><h2 id="1ã€æ„å»ºæœåŠ¡-service"><a href="#1ã€æ„å»ºæœåŠ¡-service" class="headerlink" title="1ã€æ„å»ºæœåŠ¡ service"></a>1ã€æ„å»ºæœåŠ¡ service</h2><p>ç±»ä¼¼ä¸å››å¤§ç»„ä»¶çš„é€šç”¨åˆ›å»ºæ–¹å¼ã€‚ç›´æ¥æ–°å»ºï¼Œé€‰æ‹©serviceï¼Œç„¶åExportedè¡¨ç¤ºå…¶ä»–Appä¹Ÿå¯ä»¥è®¿é—®è¿™ä¸ªæœåŠ¡ï¼Œç„¶åEnableè¡¨ç¤ºå¼€å¯è¿™ä¸ªæœåŠ¡ï¼Œå³å¯ã€‚ASä¼šè‡ªåŠ¨åœ¨xmlä¸­åˆ›å»ºæ ‡ç­¾ã€‚</p>
<p>æ–°çš„serviceè¦æ±‚é‡å†™onBind()å‡½æ•°ï¼Œç”¨æˆ·è¿”å›è¿æ¥çš„Bind,åé¢ä¼šç”¨åˆ°ã€‚</p>
<p>æˆ‘ä»¬ä¸€èˆ¬ä¼šæ‰‹åŠ¨é‡å†™ä¸€ä¸‹onCreate(),onStartCommand(),onDestory()è¿™ä¸‰ä¸ªå‡½æ•°ã€‚ç”¨äºå¤„ç†serviceéœ€è¦åšçš„äº‹æƒ…ã€‚</p>
<h2 id="2ã€å¯åŠ¨æœåŠ¡-service"><a href="#2ã€å¯åŠ¨æœåŠ¡-service" class="headerlink" title="2ã€å¯åŠ¨æœåŠ¡ service"></a>2ã€å¯åŠ¨æœåŠ¡ service</h2><p>åœ¨Activityä¸­ï¼Œæˆ‘ä»¬æœ‰ä¸¤ç§æ–¹æ³•å¯åŠ¨serviceã€‚<br>ä¸€ç§æ˜¯ç›´æ¥å¯åŠ¨ï¼Œç„¶åå°±ä¸ç®¡äº†ï¼ˆå½“ç„¶ä¹Ÿç®¡ä¸äº†ï¼‰ï¼Œä»»ç”±æœåŠ¡è‡ªèº«è‡ªç­ï¼Œå°±ç®—æ˜¯æœåŠ¡å®Œæˆäº†å·¥ä½œï¼ŒActivityä¹Ÿä¸çŸ¥é“ï¼Œå®Œå…¨äº’è¡¥å¹²æ¶©ã€‚ç›¸å½“äºæ•£å…»ã€‚<br>ä¸€ç§æ˜¯åœ¨å¯åŠ¨çš„æ—¶å€™ï¼Œä¿ç•™ä¸€ä¸ªè¿æ¥ï¼Œé€šè¿‡è¿™ä¸ªè¿æ¥å¯ä»¥éšæ—¶ç›‘æ§serviceçš„çŠ¶æ€ï¼Œä»¥åŠæ§åˆ¶serviceã€‚ï¼ˆåœˆå…»ï¼‰</p>
<h3 id="1-æ•£å…»ï¼ˆstartServiceï¼‰"><a href="#1-æ•£å…»ï¼ˆstartServiceï¼‰" class="headerlink" title="(1)æ•£å…»ï¼ˆstartServiceï¼‰"></a>(1)æ•£å…»ï¼ˆstartServiceï¼‰</h3><p>åœ¨Activityä¸­ï¼Œä½¿ç”¨ï¼š<br>//å¼€å¯<br>Intent i = new Intent(this,MyService.class);<br>startService(i);<br>//å…³é—­<br>Intent i = new Intent(this,MyService.class);<br>stopService(i);</p>
<p>å°±åƒå¯åŠ¨ä¸€ä¸ªæœ€ç®€å•çš„Activityï¼Œä½†æ˜¯è¿™ç§æ–¹æ³•åªèƒ½å•çº¯çš„å¯åŠ¨ä¸€ä¸ªserviceï¼Œserviceå¯åŠ¨ä¹‹åå°±ä¼šè‡ªåŠ¨å¹²æ´»ï¼Œåšå®Œæ²¡æœ‰ï¼Œä»¥åŠä»€ä¹ˆæ—¶å€™åšå®Œçš„ï¼ŒActivityéƒ½æ˜¯ä¸çŸ¥é“ã€‚åœ¨è°ƒç”¨stopServiceå°±ä¼šåœæ­¢è¯¥æœåŠ¡ã€‚ä½†æˆ‘å‘ç°è¿™æ ·å¯åŠ¨serviceä¹‹åï¼Œå°±ç®—ä½ ç›´æ¥å°†App finishä¹‹åï¼Œserviceè¿˜æ˜¯æ²¡æœ‰Destoryã€‚</p>
<h3 id="2-åœˆå…»ï¼ˆbindServiceï¼‰"><a href="#2-åœˆå…»ï¼ˆbindServiceï¼‰" class="headerlink" title="(2)åœˆå…»ï¼ˆbindServiceï¼‰"></a>(2)åœˆå…»ï¼ˆbindServiceï¼‰</h3><p>åœ¨Myserviceä¸­ï¼Œå†™ä¸€ä¸ªå†…éƒ¨ç±»ï¼Œç»§æ‰¿Binderï¼Œé‡Œé¢çš„æ–¹æ³•è‡ªå·±å†™ï¼Œæš´éœ²ç»™Activityï¼Œç”¨äºæ§åˆ¶serviceã€‚ç„¶åç”³æ˜ä¸€ä¸ªMyBindçš„å˜é‡ï¼Œåœ¨onBindå‡½æ•°ä¸­ï¼Œå°†å…¶è¿”å›å‡ºå»ã€‚<br>åœ¨Activityä¸­ï¼Œæ·±æ˜ä¸€ä¸ªServiceConnection()ï¼Œé‡å†™ä¸¤ä¸ªå†…éƒ¨çš„æ–¹æ³•ï¼Œåˆ†åˆ«æ˜¯è¿æ¥æˆåŠŸæ—¶ï¼Œå’Œæ–­å¼€è¿æ¥æ—¶è°ƒç”¨ï¼Œåœ¨onServiceConnectionä¸­ï¼Œè·å–MyBinderå¯¹è±¡ã€‚ç„¶åä½¿ç”¨bindService(intent,ServiceConnection,â€¦),è¿›è¡Œç»‘å®šå¼€å¯æœåŠ¡ã€‚è¿™ç§æ–¹å¼å¯ä»¥å¤šä¸ªActivityæ§åˆ¶åŒä¸€ä¸ªSeviceï¼Œå½“æœ€åä¸€ä¸ªä¸Serviceè¿æ¥çš„Activityæ–­å¼€çš„æ—¶å€™ï¼ŒServiceæ‰ä¼šé”€æ¯ã€‚</p>
<h1 id="æµ‹è¯•"><a href="#æµ‹è¯•" class="headerlink" title="æµ‹è¯•"></a>æµ‹è¯•</h1><p>åœ¨æ˜ç™½äº†å¦‚ä½•å¼€å¯æˆ‘ä»¬çš„æœåŠ¡ä¹‹åï¼Œæˆ‘ä»¬å†æ¥å…³å¿ƒä¸€ä¸‹serviceçš„ç”Ÿå‘½å‘¨æœŸï¼Œä»¥åŠserviceä¸Activityçš„è”ç³»ã€‚</p>
<h2 id="é—®é¢˜ï¼š"><a href="#é—®é¢˜ï¼š" class="headerlink" title="é—®é¢˜ï¼š"></a>é—®é¢˜ï¼š</h2><p>1.å¦‚æœåŒæ—¶ä½¿ç”¨äº†startServiceå’ŒbindServiceï¼Œæ€æ ·æ‰èƒ½åœæ­¢æ‰æœåŠ¡ï¼Ÿ<br>2.ä¸¤ä¸ªActivityåŒæ—¶ç»‘å®šäº†ä¸€ä¸ªServiceï¼Œå½“åœ¨ä¸€ä¸ªActivityä¸­ä½¿ç”¨äº†unbingServiceï¼ŒæœåŠ¡ä¼šåœæ­¢å—ï¼Ÿ<br>3.æ€æ ·ä½¿ä¸€ä¸ªæ´»åŠ¨ï¼ˆè¿›ç¨‹ï¼‰å·²ç»æ­»äº¡äº†ä¹‹åï¼Œä¿è¯æœåŠ¡ä¼šä¸åœæ­¢ï¼Œç»§ç»­è¿è¡Œï¼Ÿ</p>
<p>æ–°å»ºå·¥ç¨‹ã€‚å·¥ç¨‹ç›®å½•ç»“æ„å¦‚ä¸‹<br><img src="/2017/10/16/Androidå››å¤§ç»„ä»¶ä¹‹æœåŠ¡/1.png" alt="ç›®å½•ç»“æ„" title="ç›®å½•ç»“æ„"><br>æˆ‘ä»¬ä¸€å…±éœ€è¦ä¸¤ä¸ªActivityå’Œä¸€ä¸ªserviceã€‚</p>
<p>serviceæ–‡ä»¶å¦‚ä¸‹ï¼š<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div></pre></td><td class="code"><pre><div class="line">public class MyService extends Service &#123;</div><div class="line">    private static final String TAG = <span class="string">"MyService"</span>;</div><div class="line">    private MyBinder mybinder;</div><div class="line">    public <span class="function"><span class="title">MyService</span></span>() &#123;</div><div class="line">    &#125;</div><div class="line">    @Override</div><div class="line">    public IBinder onBind(Intent intent) &#123;</div><div class="line">        <span class="built_in">return</span> mybinder;</div><div class="line">    &#125;</div><div class="line">    @Override</div><div class="line">    public void <span class="function"><span class="title">onCreate</span></span>() &#123;</div><div class="line">        Log.e(TAG, <span class="string">"onCreate: "</span> );</div><div class="line">    &#125;</div><div class="line">    @Override</div><div class="line">    public int onStartCommand(Intent intent, int flags, int startId) &#123;</div><div class="line">        Log.e(TAG, <span class="string">"onStartCommand: "</span> );</div><div class="line">        <span class="built_in">return</span> super.onStartCommand(intent, flags, startId);</div><div class="line">    &#125;</div><div class="line">    @Override</div><div class="line">    public void <span class="function"><span class="title">onDestroy</span></span>() &#123;</div><div class="line">        Log.e(TAG, <span class="string">"onDestroy: "</span> );</div><div class="line">    &#125;</div><div class="line">    class MyBinder extends Binder&#123;</div><div class="line">        public void <span class="function"><span class="title">func1</span></span>()&#123;</div><div class="line">            Log.e(TAG, <span class="string">"func1: "</span>);</div><div class="line">        &#125;</div><div class="line">        public void <span class="function"><span class="title">func2</span></span>()&#123;</div><div class="line">            Log.e(TAG, <span class="string">"func2: "</span> );</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>é‡å†™äº†onCreateï¼ŒonStartCommandï¼ŒonDestroyï¼ŒonBindæ–¹æ³•ã€‚æ–°å»ºäº†ä¸€ä¸ªMyBinderå†…éƒ¨ç±»ï¼Œç”¨äºç»‘å®šåï¼Œå¯¹Serviceçš„æ“ä½œã€‚</p>
<p>Activity1çš„å¸ƒå±€æ–‡ä»¶ä»¥åŠjavaæ–‡ä»¶å¦‚ä¸‹ï¼š<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div></pre></td><td class="code"><pre><div class="line">&lt;LinearLayout xmlns:android=<span class="string">"http://schemas.android.com/apk/res/android"</span></div><div class="line">    xmlns:tools=<span class="string">"http://schemas.android.com/tools"</span></div><div class="line">    android:layout_width=<span class="string">"match_parent"</span></div><div class="line">    android:layout_height=<span class="string">"match_parent"</span></div><div class="line">    android:gravity=<span class="string">"center_horizontal"</span></div><div class="line">    android:orientation=<span class="string">"vertical"</span></div><div class="line">    android:paddingBottom=<span class="string">"@dimen/activity_vertical_margin"</span></div><div class="line">    android:paddingLeft=<span class="string">"@dimen/activity_horizontal_margin"</span></div><div class="line">    android:paddingRight=<span class="string">"@dimen/activity_horizontal_margin"</span></div><div class="line">    android:paddingTop=<span class="string">"@dimen/activity_vertical_margin"</span>&gt;</div><div class="line">    &lt;Button</div><div class="line">        android:layout_width=<span class="string">"match_parent"</span></div><div class="line">        android:layout_height=<span class="string">"wrap_content"</span></div><div class="line">        android:id=<span class="string">"@+id/startService"</span></div><div class="line">        android:text=<span class="string">"startService"</span>/&gt;</div><div class="line"></div><div class="line">    &lt;Button</div><div class="line">        android:layout_width=<span class="string">"match_parent"</span></div><div class="line">        android:layout_height=<span class="string">"wrap_content"</span></div><div class="line">        android:id=<span class="string">"@+id/stopService"</span></div><div class="line">        android:text=<span class="string">"stopService"</span>/&gt;</div><div class="line"></div><div class="line">    &lt;Button</div><div class="line">        android:layout_width=<span class="string">"match_parent"</span></div><div class="line">        android:layout_height=<span class="string">"wrap_content"</span></div><div class="line">        android:id=<span class="string">"@+id/bindService"</span></div><div class="line">        android:text=<span class="string">"bindService"</span>/&gt;</div><div class="line"></div><div class="line">    &lt;Button</div><div class="line">        android:layout_width=<span class="string">"match_parent"</span></div><div class="line">        android:layout_height=<span class="string">"wrap_content"</span></div><div class="line">        android:id=<span class="string">"@+id/unbindService"</span></div><div class="line">        android:text=<span class="string">"unbindService"</span>/&gt;</div><div class="line"></div><div class="line">    &lt;Button</div><div class="line">        android:layout_width=<span class="string">"match_parent"</span></div><div class="line">        android:layout_height=<span class="string">"wrap_content"</span></div><div class="line">        android:id=<span class="string">"@+id/changeActivity"</span></div><div class="line">        android:text=<span class="string">"changeActivity"</span>/&gt;</div><div class="line">&lt;/LinearLayout&gt;</div></pre></td></tr></table></figure></p>
<p>java:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div></pre></td><td class="code"><pre><div class="line">public class MainActivity extends AppCompatActivity  &#123;</div><div class="line">    private MyService.MyBinder binder ;</div><div class="line">    private static final String TAG = <span class="string">"MainActivity"</span>;</div><div class="line">    @Override</div><div class="line">    protected void onCreate(Bundle savedInstanceState) &#123;</div><div class="line">        super.onCreate(savedInstanceState);</div><div class="line">        setContentView(R.layout.activity_main);</div><div class="line"></div><div class="line">        Button startButton = (Button) findViewById(R.id.startService);</div><div class="line">        Button stopButton = (Button) findViewById(R.id.stopService);</div><div class="line">        Button bindButton = (Button) findViewById(R.id.bindService);</div><div class="line">        final Button unbindButton = (Button) findViewById(R.id.unbindService);</div><div class="line">        Button changeActivity = (Button) findViewById(R.id.changeActivity);</div><div class="line"></div><div class="line">        final ServiceConnection connection = new <span class="function"><span class="title">ServiceConnection</span></span>() &#123;</div><div class="line">            @Override</div><div class="line">            public void onServiceConnected(ComponentName componentName, IBinder iBinder) &#123;</div><div class="line">                Log.e(TAG, <span class="string">"onServiceConnected: "</span> );</div><div class="line">                binder = (MyService.MyBinder) iBinder;</div><div class="line">            &#125;</div><div class="line">            @Override</div><div class="line">            public void onServiceDisconnected(ComponentName componentName) &#123;</div><div class="line">                binder.func1();</div><div class="line">                binder.func2();</div><div class="line">                Log.e(TAG, <span class="string">"onServiceDisconnected: "</span> );</div><div class="line">            &#125;</div><div class="line">        &#125;;</div><div class="line">        startButton.setOnClickListener(new View.<span class="function"><span class="title">OnClickListener</span></span>() &#123;</div><div class="line">            @Override</div><div class="line">            public void onClick(View view) &#123;</div><div class="line">                Intent intent = new Intent(MainActivity.this,MyService.class);</div><div class="line">                startService(intent);</div><div class="line">            &#125;</div><div class="line">        &#125;);</div><div class="line">        stopButton.setOnClickListener(new View.<span class="function"><span class="title">OnClickListener</span></span>() &#123;</div><div class="line">            @Override</div><div class="line">            public void onClick(View view) &#123;</div><div class="line">                Intent intent = new Intent(MainActivity.this,MyService.class);</div><div class="line">                stopService(intent);</div><div class="line">            &#125;</div><div class="line">        &#125;);</div><div class="line">        bindButton.setOnClickListener(new View.<span class="function"><span class="title">OnClickListener</span></span>() &#123;</div><div class="line">            @Override</div><div class="line">            public void onClick(View view) &#123;</div><div class="line">                Intent intent = new Intent(MainActivity.this,MyService.class);</div><div class="line">                bindService(intent,connection, Context.BIND_AUTO_CREATE);</div><div class="line">            &#125;</div><div class="line">        &#125;);</div><div class="line">        unbindButton.setOnClickListener(new View.<span class="function"><span class="title">OnClickListener</span></span>() &#123;</div><div class="line">            @Override</div><div class="line">            public void onClick(View view) &#123;</div><div class="line">                unbindService(connection);</div><div class="line">            &#125;</div><div class="line">        &#125;);</div><div class="line">        changeActivity.setOnClickListener(new View.<span class="function"><span class="title">OnClickListener</span></span>() &#123;</div><div class="line">            @Override</div><div class="line">            public void onClick(View view) &#123;</div><div class="line">                Intent intent = new Intent(MainActivity.this,MainActivity2.class);</div><div class="line">                startActivity(intent);</div><div class="line">            &#125;</div><div class="line">        &#125;);</div><div class="line">    &#125;</div><div class="line">    @Override</div><div class="line">    protected void <span class="function"><span class="title">onDestroy</span></span>() &#123;</div><div class="line">        Log.e(TAG, <span class="string">"onDestroy: "</span> );</div><div class="line">        super.onDestroy();</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>Activity2çš„å¸ƒå±€æ–‡ä»¶ä»¥åŠjavaæ–‡ä»¶å¦‚ä¸‹ï¼š<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line">&lt;?xml version=<span class="string">"1.0"</span> encoding=<span class="string">"utf-8"</span>?&gt;</div><div class="line">&lt;LinearLayout xmlns:android=<span class="string">"http://schemas.android.com/apk/res/android"</span></div><div class="line">    xmlns:app=<span class="string">"http://schemas.android.com/apk/res-auto"</span></div><div class="line">    xmlns:tools=<span class="string">"http://schemas.android.com/tools"</span></div><div class="line">    android:orientation=<span class="string">"vertical"</span></div><div class="line">    android:layout_width=<span class="string">"match_parent"</span></div><div class="line">    android:layout_height=<span class="string">"match_parent"</span>&gt;</div><div class="line"></div><div class="line">    &lt;Button</div><div class="line">        android:layout_width=<span class="string">"match_parent"</span></div><div class="line">        android:layout_height=<span class="string">"wrap_content"</span></div><div class="line">        android:id=<span class="string">"@+id/M2_bindService"</span></div><div class="line">        android:text=<span class="string">"M2_bindService"</span>/&gt;</div><div class="line"></div><div class="line">    &lt;Button</div><div class="line">        android:layout_width=<span class="string">"match_parent"</span></div><div class="line">        android:layout_height=<span class="string">"wrap_content"</span></div><div class="line">        android:id=<span class="string">"@+id/M2_unbindService"</span></div><div class="line">        android:text=<span class="string">"M2_unbindService"</span>/&gt;</div><div class="line">&lt;/LinearLayout&gt;</div></pre></td></tr></table></figure></p>
<p>java:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div></pre></td><td class="code"><pre><div class="line">public class MainActivity2 extends AppCompatActivity &#123;</div><div class="line">    private static final String TAG = <span class="string">"MainActivity2"</span>;</div><div class="line">    MyService.MyBinder binder;</div><div class="line">    @Override</div><div class="line">    protected void onCreate(Bundle savedInstanceState) &#123;</div><div class="line">        super.onCreate(savedInstanceState);</div><div class="line">        setContentView(R.layout.activity_main2);</div><div class="line"></div><div class="line">        final Button <span class="built_in">bind</span> = (Button) findViewById(R.id.M2_bindService);</div><div class="line">        final Button unbind = (Button) findViewById(R.id.M2_unbindService);</div><div class="line"></div><div class="line">        final ServiceConnection connection = new <span class="function"><span class="title">ServiceConnection</span></span>() &#123;</div><div class="line">            @Override</div><div class="line">            public void onServiceConnected(ComponentName componentName, IBinder iBinder) &#123;</div><div class="line">                Log.e(TAG, <span class="string">"onServiceConnected: "</span> );</div><div class="line">                binder = (MyService.MyBinder) iBinder;</div><div class="line">            &#125;</div><div class="line"></div><div class="line">            @Override</div><div class="line">            public void onServiceDisconnected(ComponentName componentName) &#123;</div><div class="line">                Log.e(TAG, <span class="string">"onServiceDisconnected: "</span> );</div><div class="line">            &#125;</div><div class="line">        &#125;;</div><div class="line">        bind.setOnClickListener(new View.<span class="function"><span class="title">OnClickListener</span></span>() &#123;</div><div class="line">            @Override</div><div class="line">            public void onClick(View view) &#123;</div><div class="line">                Intent intent = new Intent(MainActivity2.this,MyService.class);</div><div class="line">                bindService(intent,connection,BIND_AUTO_CREATE);</div><div class="line">            &#125;</div><div class="line">        &#125;);</div><div class="line">        unbind.setOnClickListener(new View.<span class="function"><span class="title">OnClickListener</span></span>() &#123;</div><div class="line">            @Override</div><div class="line">            public void onClick(View view) &#123;</div><div class="line">                unbindService(connection);</div><div class="line">            &#125;</div><div class="line">        &#125;);</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<img src="/2017/10/16/Androidå››å¤§ç»„ä»¶ä¹‹æœåŠ¡/2.png" alt="buttoné¡ºåº1" title="buttoné¡ºåº1">
<img src="/2017/10/16/Androidå››å¤§ç»„ä»¶ä¹‹æœåŠ¡/3.png" alt="buttoné¡ºåº2" title="buttoné¡ºåº2">
<p>æµ‹è¯•1ï¼šåŒæ—¶ä½¿ç”¨startServiceå’ŒbindService<br>ç‚¹å‡»é¡ºåºï¼š1324å’Œ1342<br>è¾“å‡ºç»“æœï¼š<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">E/MyService: onCreate: </div><div class="line">E/MyService: onStartCommand: </div><div class="line">E/MyService: onDestroy:</div></pre></td></tr></table></figure></p>
<p>ç»“è®ºï¼šå¦‚æœåŒæ—¶ä½¿ç”¨startServiceå’ŒbindServiceï¼Œåˆ™éœ€è¦åŒæ—¶ä½¿ç”¨stopServiceå’ŒunbindServiceæ‰èƒ½ç»“æŸæ‰æœåŠ¡ã€‚</p>
<p>æµ‹è¯•2ï¼šä¸¤ä¸ªActivityåŒæ—¶ç»‘å®šäº†ä¸€ä¸ªService<br>ç‚¹å‡»é¡ºåºï¼š356784<br>è¾“å‡ºç»“æœï¼š<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">MyService: onCreate: </div><div class="line">MyService: onDestroy:</div></pre></td></tr></table></figure></p>
<p>ç»“è®ºï¼šå½“ä¸¤ä¸ªActivityåŒæ—¶ç»‘å®šäº†ä¸€ä¸ªServiceæ—¶ï¼Œä¸€ä¸ªæ–­å¼€ï¼Œåªè¦è¿˜æœ‰ä¸€ä¸ªActivityè¿˜ä¸Serviceç›¸è¿ï¼Œé‚£ä¹ˆå°±ä¸ä¼šServiceå°±ä¸ä¼šæ­»æ‰ã€‚<br>æœ‰è¶£çš„æ˜¯ï¼Œå¦‚æœæˆ‘ä»¬ç‚¹å‡»é¡ºåºä¸ºï¼š3568 å’Œ38<br>è¾“å‡ºç»“æœï¼š<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">E/MyService: onCreate: </div><div class="line">E/MainActivity: onDestroy: </div><div class="line">E/ActivityThread: Error....</div><div class="line">E/MyService: onDestroy:</div></pre></td></tr></table></figure></p>
<p>é‚£ä¹ˆç¨‹åº¦ä¼šæŠ¥é”™ï¼Œè€Œä¸”ç¨‹åºä¸­ï¼ŒActivityçš„Destroyåœ¨æœåŠ¡çš„Destroyä¹‹å‰å°±å·²ç»ç»“æŸäº†ï¼Œå¯¼è‡´äº†æŠ¥é”™ã€‚</p>
<p>æµ‹è¯•3ï¼šæ€æ ·ä½¿ä¸€ä¸ªæ´»åŠ¨ï¼ˆè¿›ç¨‹ï¼‰å·²ç»æ­»äº¡äº†ä¹‹åï¼Œä¿è¯æœåŠ¡ä¼šä¸åœæ­¢<br>ç‚¹å‡»é¡ºåºï¼š18 ç„¶åé‡æ–°å¼€å¯è¯¥åº”ç”¨ï¼Œ 2<br>è¾“å‡ºç»“æœï¼š<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">E/MyService: onCreate: </div><div class="line">E/MyService: onStartCommand: </div><div class="line">E/MainActivity: onDestroy: </div><div class="line">E/MyService: onDestroy:</div></pre></td></tr></table></figure></p>
<p>å¯ä»¥çœ‹åˆ°ï¼Œåœ¨ç¨‹åºå·²ç»onDestroyäº†ä¹‹åï¼ŒæœåŠ¡å¹¶æ²¡æœ‰æ–­æ‰ï¼Œæ‰€ä»¥è¯´ï¼Œä½¿ç”¨startServiceçš„æ–¹å¼å¯åŠ¨çš„æœåŠ¡ï¼Œå·²ç»ä¸æœ¬Activityæ— å…³äº†ã€‚åœ¨Activityå·²ç»æ­»æ‰çš„æƒ…å†µä¹‹ä¸‹ï¼Œè¿˜æ˜¯èƒ½ç»§ç»­è¿è¡Œã€‚</p>
]]></content>
      
        <categories>
            
            <category> androidå­¦ä¹ ä¹‹è·¯ </category>
            
        </categories>
        
        
        <tags>
            
            <tag> androidåŸºç¡€ </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[android-cardViewçš„ä½¿ç”¨]]></title>
      <url>/2017/09/14/android-cardView/</url>
      <content type="html"><![CDATA[<p>é¦–å…ˆï¼Œæˆ‘ä»¬è¦çŸ¥é“cardViewæ˜¯androidåœ¨5.0ä¹‹åæ¨å‡ºçš„ä¸€ä¸ªç•Œé¢ç»„ä»¶ï¼Œå®˜æ–¹æ–‡æ¡£é‡Œé¢å¯¹ä»€ä¹ˆæ—¶å€™ç”¨å®ƒï¼Œä»¥åŠåœ¨ä»€ä¹ˆæƒ…å†µä¹‹ä¸‹ä½¿ç”¨ä»–æ‰èƒ½è¾¾åˆ°è¾ƒå¥½çš„æ•ˆæœï¼Œéƒ½æœ‰è¯¦ç»†çš„ä»‹ç»çš„å“ˆï¼Œä¸è¿‡ç”±äºæ˜¯è‹±æ–‡ï¼Œçœ‹èµ·æ¥è¿˜æ˜¯æœ‰ä¸€ç‚¹åƒåŠ›å“ˆã€‚cardViewæœ¬èº«æ˜¯ç»§æ‰¿äºFrameLayoutï¼Œè¯´æ˜ä»–å…¶å®ä¹Ÿæ˜¯ä¸€ç§å¸ƒå±€æ–‡ä»¶ï¼Œæ‰€ä»¥æš‚æ—¶å¯ä»¥ç†è§£ä¸ºä¸€ç§è‡ªå¸¦å±•ç¤ºæ•ˆæœçš„ä¸€ç§FrameLayoutå¸ƒå±€æ–‡ä»¶ã€‚<br><a href="https://material.io/guidelines/components/cards.html" target="_blank" rel="external">å®˜æ–¹åŸæ–‡æ–‡æ¡£</a><br><a href="https://github.com/1sters/material_design_zh" target="_blank" rel="external">ä¸­æ–‡æ–‡æ¡£</a><br><a id="more"></a></p>
<h1 id="å¯¼å…¥åº“æ–‡ä»¶"><a href="#å¯¼å…¥åº“æ–‡ä»¶" class="headerlink" title="å¯¼å…¥åº“æ–‡ä»¶"></a>å¯¼å…¥åº“æ–‡ä»¶</h1><p>åœ¨gradleä¸­è¿›è¡Œé…ç½®</p>
<pre><code class="bash">dependencies {
    ...
    compile <span class="string">'com.android.support:cardview-v7:26.+'</span>
}
</code></pre>
<p>å…¶å®androidæœ‰å¾ˆå¤šè‡ªå¸¦çš„ç»„ä»¶ï¼Œè€Œä¸”ç•Œé¢æ•ˆæœéƒ½éå¸¸å¥½ã€‚åœ¨æˆ‘ä»¬çš„android sdkçš„æ–‡ä»¶å¤¹ä¹‹ä¸‹ï¼Œ<br>Android\sdk\extras\android\m2repository\com\android\support<br>é‡Œé¢æœ‰å¾ˆå¤šçš„ç»„ä»¶ï¼Œæ²¡äº‹çš„æ—¶å€™å¯ä»¥æŒ¨ä¸ªç ”ç©¶ä¸€ä¸‹ã€‚<br>è¿™é‡Œæˆ‘ä»¬æ ¹æ®çš„è‡ªå·±çš„ç‰ˆæœ¬å¡«å†™è‡ªå·±å¯¹åº”çš„ç‰ˆæœ¬å·å°±è¡Œäº†ã€‚</p>
<h1 id="å‚æ•°è¯´æ˜"><a href="#å‚æ•°è¯´æ˜" class="headerlink" title="å‚æ•°è¯´æ˜"></a>å‚æ•°è¯´æ˜</h1><p>æ‰“å¼€CardViewçš„æºæ–‡ä»¶æˆ‘ä»¬å¯ä»¥å¾ˆæ¸…æ™°çš„æ‰¾åˆ°caraViewæ‰€æ‹¥æœ‰çš„å±æ€§ä»¥åŠæ–¹æ³•ã€‚<br>è¿™é‡Œæˆ‘å°±ç›´æ¥æ‰¾äº†ä¸€äº›ã€‚<br>app:cardBackgroundColorè¿™æ˜¯è®¾ç½®èƒŒæ™¯é¢œè‰²<br>app:cardCornerRadiusè¿™æ˜¯è®¾ç½®åœ†è§’å¤§å°<br>app:cardElevationè¿™æ˜¯è®¾ç½®zè½´çš„é˜´å½±<br>app:cardMaxElevationè¿™æ˜¯è®¾ç½®zè½´çš„æœ€å¤§é«˜åº¦å€¼<br>app:cardUseCompatPaddingæ˜¯å¦ä½¿ç”¨CompatPadding<br>app:cardPreventCornerOverlapæ˜¯å¦ä½¿ç”¨PreventCornerOverlap<br>app:contentPadding è®¾ç½®å†…å®¹çš„padding<br>app:contentPaddingLeft è®¾ç½®å†…å®¹çš„å·¦padding<br>app:contentPaddingTop è®¾ç½®å†…å®¹çš„ä¸Špadding<br>app:contentPaddingRight è®¾ç½®å†…å®¹çš„å³padding<br>app:contentPaddingBottom è®¾ç½®å†…å®¹çš„åº•padding</p>
<p>æœ€ç®€å•çš„åŸºç¡€ç‰ˆ</p>
<pre><code class="bash">&lt;android.support.v7.widget.CardView
    android:layout_margin=<span class="string">"20dp"</span>
    android:layout_width=<span class="string">"match_parent"</span>
    android:layout_height=<span class="string">"200dp"</span>&gt;
&lt;/android.support.v7.widget.CardView&gt;
</code></pre>
<p>åªæ˜¯å¼•ç”¨ï¼Œä»€ä¹ˆéƒ½æ²¡åŠ ï¼Œæ•ˆæœå°±å¾ˆlowï¼Œå°±æ˜¯ä¸€ä¸ªæœ‰è¾¹æ¡†çš„FrameLayoutçš„æ ·å­ã€‚<br><img src="/2017/09/14/android-cardView/one.png" alt="cardViewåŸºç¡€ç‰ˆ" title="cardViewåŸºç¡€ç‰ˆ"><br>è®©æˆ‘ä»¬ç¨ä½œè°ƒæ•´ï¼Œè®©ä»–å¥½çœ‹ä¸€ç‚¹ã€‚</p>
<p>æˆç†ŸæœŸç‰ˆ</p>
<pre><code class="bash">&lt;android.support.v7.widget.CardView
    android:layout_margin=<span class="string">"20dp"</span>            
    android:layout_width=<span class="string">"match_parent"</span>
    android:layout_height=<span class="string">"300dp"</span>

    app:cardCornerRadius=<span class="string">"20dp"</span>                //åŠ ä¸Šåœ†è§’
    app:cardElevation=<span class="string">"10dp"</span>                //åŠ ä¸Šé˜´å½±
    app:cardBackgroundColor=<span class="string">"#dcdcdc"</span>        //åŠ ä¸ŠèƒŒæ™¯é¢œè‰²
    &gt;
    &lt;ImageView
        android:layout_width=<span class="string">"match_parent"</span>
        android:layout_height=<span class="string">"wrap_content"</span>
        android:scaleType=<span class="string">"center"</span>
        android:src=<span class="string">"@drawable/pic"</span>
        tools:ignore=<span class="string">"ContentDescription"</span> /&gt;        
&lt;/android.support.v7.widget.CardView&gt;
</code></pre>
<p>è¿™ä¸€æ¬¡æˆ‘ä»¬æ–°å¢åŠ äº†ä¸€äº›å±æ€§ï¼Œè®©å…¶å˜å¾—æ›´åƒå¡ç‰‡ä¸€äº›ã€‚<br><img src="/2017/09/14/android-cardView/two.png" alt="cardViewæˆç†ŸæœŸ" title="cardViewæˆç†ŸæœŸ"><br>æœ‰æ²¡æœ‰è§‰å¾—ç°åœ¨çœ‹èµ·æ¥è¦å¥½çœ‹ä¸€äº›äº†å‘¢ï¼</p>
<p>æœ€åæˆ‘ä»¬ä»¿ç…§ç€å®˜æ–¹æ–‡æ¡£ä¸­çš„é‚£ä¸ªå›¾ç‰‡åšä¸€ä¸ªç±»ä¼¼çš„ã€‚<br><img src="/2017/09/14/android-cardView/three.png" alt="cardViewå®˜æ–¹å›¾ç‰‡" title="cardViewå®˜æ–¹å›¾ç‰‡"><br><img src="/2017/09/14/android-cardView/four.png" alt="cardViewä»¿ç…§åˆ¶ä½œ" title="cardViewä»¿ç…§åˆ¶ä½œ"></p>
<p>çœ‹èµ·æ¥æ•ˆæœè¿˜ä¸é”™æ˜¯å§ã€‚</p>
<p>æºæ–‡ä»¶å·²ç»ä¸Šä¼ ï¼Œæœ‰å…´è¶£çš„æœ‹å‹å¯ä»¥çœ‹ä¸€ä¸‹ã€‚<br><a href="https://github.com/JokerHerry/donghua" target="_blank" rel="external">é“¾æ¥åœ¨æ­¤</a></p>
]]></content>
      
        <categories>
            
            <category> androidå­¦ä¹ ä¹‹è·¯ </category>
            
        </categories>
        
        
        <tags>
            
            <tag> android </tag>
            
            <tag> materialDesign </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[javaåŸºæœ¬ç†è§£ï¼Œä»¥åŠå¸¸ç”¨å°æŠ€å·§]]></title>
      <url>/2017/07/31/java1/</url>
      <content type="html"><![CDATA[<h1 id="åŸºæœ¬ç†è§£"><a href="#åŸºæœ¬ç†è§£" class="headerlink" title="åŸºæœ¬ç†è§£"></a>åŸºæœ¬ç†è§£</h1><h2 id="jdkä¸jreçš„å…³ç³»"><a href="#jdkä¸jreçš„å…³ç³»" class="headerlink" title="jdkä¸jreçš„å…³ç³»"></a>jdkä¸jreçš„å…³ç³»</h2><a id="more"></a>
<p>å› ä¸ºæ¯æ¬¡åœ¨å®˜ç½‘ä¸Šä¸‹è½½çš„jdkçš„å®‰è£…åŒ…çš„æ—¶å€™ï¼Œå®‰è£…æ—¶å°±ä¼šå‘ç°ï¼Œæˆ‘ä»¬ä¸ä»…å®‰è£…æˆ‘ä»¬æ‰€éœ€è¦çš„jdkï¼Œè€Œä¸”æˆ‘ä»¬è¿˜å®‰è£…äº†ä¸€ä¸ªjreï¼Œäºæ˜¯ä¸ç¦æœ‰ç‚¹å¥½å¥‡ã€‚ç»è¿‡ç½‘ä¸ŠæŸ¥é˜…ï¼Œæ€»ç»“äº†ä¸€ä¸‹ï¼š</p>
<p>jre(java runtime environment)  javaè¿è¡Œç¯å¢ƒ<br>jdk(Java Development Kit)  javaå¼€å‘è€…å·¥å…·<br>jvm(Java Virtual Machine)  javaè™šæ‹Ÿæœº<br><img src="/2017/07/31/java1/1.jpg" alt="å±‚æ¬¡ç»“æ„" title="å±‚æ¬¡ç»“æ„"></p>
<h3 id="ç†æ¸…å…³ç³»"><a href="#ç†æ¸…å…³ç³»" class="headerlink" title="ç†æ¸…å…³ç³»"></a>ç†æ¸…å…³ç³»</h3><p>æˆ‘ä»¬ç°åœ¨ä¸€èˆ¬ä¸‹è½½çš„jkdä¸­éƒ½å·²ç»åŒ…å«äº†jreï¼Œæ‰€ä»¥ä¸€èˆ¬åœ¨å®‰è£…jdkçš„æ—¶å€™ä¼šè‡ªåŠ¨æé†’å®‰è£…jreã€‚<br>jreä¸jdkæ˜¯ç›¸äº’ç‹¬ç«‹çš„ä¸¤ä¸ªä¸œè¥¿ã€‚<br>JREï¼ˆjavaè¿è¡Œæ—¶ç¯å¢ƒï¼‰åŒ…å«JVMçš„javaç¨‹åºçš„è¿è¡Œç¯å¢ƒã€‚<br>å› ä¸ºjavaéœ€è¦é¦–å…ˆå°†javaç¨‹åºç¼–è¯‘æˆä¸ºjavacçš„ä¸­é—´ä»¶ï¼Œä½†æ˜¯æœºå™¨å¹¶ä¸è®¤è¯†è¿™ç§ç¼–è¯‘ï¼Œåªæœ‰é€šè¿‡jvmå¤„ç†ï¼ŒåŒæ—¶ä¹Ÿä¿è¯äº†è·¨å¹³å°ç¼–è¯‘ï¼Œè€Œç°åœ¨jvmä¸€èˆ¬ä¹Ÿéƒ½é›†æˆåœ¨äº†jreä¹‹ä¸­ã€‚</p>
<h3 id="JDKï¼ˆJava-Development-Kitï¼‰"><a href="#JDKï¼ˆJava-Development-Kitï¼‰" class="headerlink" title="JDKï¼ˆJava Development Kitï¼‰"></a>JDKï¼ˆJava Development Kitï¼‰</h3><p>JDKæ˜¯Javaå¼€å‘å·¥å…·åŒ…ï¼Œæ˜¯Sun Microsystemsé’ˆå¯¹Javaå¼€å‘å‘˜çš„äº§å“ã€‚<br>JDKä¸­åŒ…å«JREï¼Œåœ¨JDKçš„å®‰è£…ç›®å½•ä¸‹æœ‰ä¸€ä¸ªåä¸ºjreçš„ç›®å½•ï¼Œé‡Œé¢æœ‰ä¸¤ä¸ªæ–‡ä»¶å¤¹binå’Œlibï¼Œåœ¨è¿™é‡Œå¯ä»¥è®¤ä¸ºbiné‡Œçš„å°±æ˜¯jvmï¼Œlibä¸­åˆ™æ˜¯jvmå·¥ä½œæ‰€éœ€è¦çš„ç±»åº“ï¼Œè€Œjvmå’Œ libå’Œèµ·æ¥å°±ç§°ä¸ºjreã€‚<br>JDKæ˜¯æ•´ä¸ªJAVAçš„æ ¸å¿ƒï¼ŒåŒ…æ‹¬äº†Javaè¿è¡Œç¯å¢ƒJREï¼ˆJava Runtime Envirnmentï¼‰ã€ä¸€å †Javaå·¥å…·ï¼ˆjavac/java/jdbç­‰ï¼‰å’ŒJavaåŸºç¡€çš„ç±»åº“ï¼ˆå³Java API åŒ…æ‹¬rt.jarï¼‰ã€‚</p>
<h3 id="Java-Runtime-Environmentï¼ˆJREï¼‰"><a href="#Java-Runtime-Environmentï¼ˆJREï¼‰" class="headerlink" title="Java Runtime Environmentï¼ˆJREï¼‰"></a>Java Runtime Environmentï¼ˆJREï¼‰</h3><p>æ˜¯è¿è¡ŒåŸºäºJavaè¯­è¨€ç¼–å†™çš„ç¨‹åºæ‰€ä¸å¯ç¼ºå°‘çš„è¿è¡Œç¯å¢ƒã€‚ä¹Ÿæ˜¯é€šè¿‡å®ƒï¼ŒJavaçš„å¼€å‘è€…æ‰å¾—ä»¥å°†è‡ªå·±å¼€å‘çš„ç¨‹åºå‘å¸ƒåˆ°ç”¨æˆ·æ‰‹ä¸­ï¼Œè®©ç”¨æˆ·ä½¿ç”¨ã€‚<br>JREä¸­åŒ…å«äº†Java virtual machineï¼ˆJVMï¼‰ï¼Œruntime class librarieså’ŒJava application launcherï¼Œè¿™äº›æ˜¯è¿è¡ŒJavaç¨‹åºçš„å¿…è¦ç»„ä»¶ã€‚<br>ä¸å¤§å®¶ç†ŸçŸ¥çš„JDKä¸åŒï¼ŒJREæ˜¯Javaè¿è¡Œç¯å¢ƒï¼Œå¹¶ä¸æ˜¯ä¸€ä¸ªå¼€å‘ç¯å¢ƒï¼Œæ‰€ä»¥æ²¡æœ‰åŒ…å«ä»»ä½•å¼€å‘å·¥å…·ï¼ˆå¦‚ç¼–è¯‘å™¨å’Œè°ƒè¯•å™¨ï¼‰ï¼Œåªæ˜¯é’ˆå¯¹äºä½¿ç”¨Javaç¨‹åºçš„ç”¨æˆ·ã€‚</p>
<h3 id="JVMï¼ˆjava-virtual-machineï¼‰"><a href="#JVMï¼ˆjava-virtual-machineï¼‰" class="headerlink" title="JVMï¼ˆjava virtual machineï¼‰"></a>JVMï¼ˆjava virtual machineï¼‰</h3><p>å°±æ˜¯æˆ‘ä»¬å¸¸è¯´çš„javaè™šæ‹Ÿæœºï¼Œå®ƒæ˜¯æ•´ä¸ªjavaå®ç°è·¨å¹³å°çš„æœ€æ ¸å¿ƒçš„éƒ¨åˆ†ï¼Œæ‰€æœ‰çš„javaç¨‹åºä¼šé¦–å…ˆè¢«ç¼–è¯‘ä¸º.classçš„ç±»æ–‡ä»¶ï¼Œè¿™ç§ç±»æ–‡ä»¶å¯ä»¥åœ¨è™šæ‹Ÿæœºä¸Šæ‰§è¡Œã€‚<br>ä¹Ÿå°±æ˜¯è¯´classå¹¶ä¸ç›´æ¥ä¸æœºå™¨çš„æ“ä½œç³»ç»Ÿç›¸å¯¹åº”ï¼Œè€Œæ˜¯ç»è¿‡è™šæ‹Ÿæœºé—´æ¥ä¸æ“ä½œç³»ç»Ÿäº¤äº’ï¼Œç”±è™šæ‹Ÿæœºå°†ç¨‹åºè§£é‡Šç»™æœ¬åœ°ç³»ç»Ÿæ‰§è¡Œã€‚<br>åªæœ‰JVMè¿˜ä¸èƒ½æˆclassçš„æ‰§è¡Œï¼Œå› ä¸ºåœ¨è§£é‡Šclassçš„æ—¶å€™JVMéœ€è¦è°ƒç”¨è§£é‡Šæ‰€éœ€è¦çš„ç±»åº“libï¼Œè€ŒjreåŒ…å«libç±»åº“ã€‚<br>JVMå±è”½äº†ä¸å…·ä½“æ“ä½œç³»ç»Ÿå¹³å°ç›¸å…³çš„ä¿¡æ¯ï¼Œä½¿å¾—Javaç¨‹åºåªéœ€ç”Ÿæˆåœ¨Javaè™šæ‹Ÿæœºä¸Šè¿è¡Œçš„ç›®æ ‡ä»£ç ï¼ˆå­—èŠ‚ç ï¼‰ï¼Œå°±å¯ä»¥åœ¨å¤šç§å¹³å°ä¸Šä¸åŠ ä¿®æ”¹åœ°è¿è¡Œã€‚</p>
<h1 id="å¸¸ç”¨æŠ€å·§"><a href="#å¸¸ç”¨æŠ€å·§" class="headerlink" title="å¸¸ç”¨æŠ€å·§"></a>å¸¸ç”¨æŠ€å·§</h1><h2 id="æŸ¥çœ‹è‡ªå·±çš„javaæ˜¯32ä½çš„ï¼Œè¿˜æ˜¯64ä½"><a href="#æŸ¥çœ‹è‡ªå·±çš„javaæ˜¯32ä½çš„ï¼Œè¿˜æ˜¯64ä½" class="headerlink" title="æŸ¥çœ‹è‡ªå·±çš„javaæ˜¯32ä½çš„ï¼Œè¿˜æ˜¯64ä½"></a>æŸ¥çœ‹è‡ªå·±çš„javaæ˜¯32ä½çš„ï¼Œè¿˜æ˜¯64ä½</h2><p>æ–¹æ³•ä¸€ï¼š</p>
<pre><code class="bash">åœ¨cmdä½¿ç”¨æŒ‡ä»¤ï¼š        java -version
</code></pre>
<p>å¯ä»¥çœ‹åˆ°è‡ªå·±çš„javaç‰ˆæœ¬ï¼Œå¦‚æœæ˜¯64ä½çš„è¯ï¼Œä¼šç›´æ¥åœ¨æœ€ä¸‹æ–¹æ˜¾ç¤º64Bitï¼Œ32ä½çš„è¯å°±ä¸ä¼šæ˜¾ç¤ºï¼Œæˆ‘çš„å°±æ˜¯32ä½çš„ã€‚<br><img src="/2017/07/31/java1/2.png" alt="2.png" title=""></p>
<p>æ–¹æ³•äºŒï¼šä½¿ç”¨å®šå‘æŒ‡ä»¤</p>
<pre><code class="bash">åœ¨cmdä½¿ç”¨æŒ‡ä»¤ï¼š        java d32-version
åœ¨cmdä½¿ç”¨æŒ‡ä»¤ï¼š        java d64-version
</code></pre>
<p>è¿™æ ·å°±å¯ä»¥çœ‹åˆ°è‡ªå·±çš„è£…çš„32ä½javaä¸64ä½javaåˆ†åˆ«å„æ˜¯å¤šå°‘ç‰ˆæœ¬ã€‚<br><img src="/2017/07/31/java1/3.png" alt="3.png" title=""></p>
]]></content>
      
        <categories>
            
            <category> javaç†è§£ </category>
            
        </categories>
        
        
    </entry>
    
    <entry>
      <title><![CDATA[githubé¡¹ç›®å­¦ä¹ ï¼šContext-Menu.Android]]></title>
      <url>/2017/07/17/android2/</url>
      <content type="html"><![CDATA[<p>çœ‹å›¾çœ‹æ•ˆæœï¼ŒContext-Menu.Androidåœ¨githubä¸Šæ˜¯ä¸€ä¸ªæ¯”è¾ƒç«çš„é¡¹ç›®ï¼Œè€Œä¸”å®ç°æ•ˆæœä¹Ÿä¹Ÿæ¯”è¾ƒç®€å•ï¼Œä»…éœ€å‡ éƒ¨å°±å¯ä»¥å®ç°ä¸€ä¸ªä¼˜é›…çš„åŠ¨æ€èœå•ã€‚è¿™ä¸€éƒ¨åˆ†è®²è§£ä¸€ä¸‹æ€ä¹ˆåœ¨androidStudioæ€ä¹ˆå®ç°ã€‚<br><img src="/2017/07/17/android2/1.gif" alt="Context-Menu.Androidæ•ˆæœå±•ç¤º" title="Context-Menu.Androidæ•ˆæœå±•ç¤º"><br><a id="more"></a></p>
<h2 id="é…ç½®"><a href="#é…ç½®" class="headerlink" title="é…ç½®"></a>é…ç½®</h2><p>å…ˆå¥‰ä¸Šgithubçš„é“¾æ¥ã€‚<a href="https://github.com/Yalantis/Context-Menu.Android" target="_blank" rel="external">æˆ³æˆ³æˆ³</a></p>
<p>å¤åˆ¶ç»„ä»¶çš„ä»£ç åˆ°è‡ªå·±é¡¹ç›®çš„gradleä¸­ï¼Œç„¶åç‚¹å‡»åŒæ­¥ã€‚ã€æ³¨æ„ã€‚æ˜¯è‡ªå·±çš„appçš„gradleä¸­ï¼Œä¸æ˜¯å·¥ç¨‹åçš„é‚£ä¸€ä¸ªgradleä¸­ã€‚ã€‘<br><img src="/2017/07/17/android2/2.png" alt="githubä¸­æ‰¾åˆ°ç»„å»ºçš„ä»£ç " title="githubä¸­æ‰¾åˆ°ç»„å»ºçš„ä»£ç "><br><img src="/2017/07/17/android2/3.png" alt="androidStudioä¸­çš„ç»„å»ºæ–¹å¼" title="androidStudioä¸­çš„ç»„å»ºæ–¹å¼"></p>
<h2 id="ä½¿ç”¨"><a href="#ä½¿ç”¨" class="headerlink" title="ä½¿ç”¨"></a>ä½¿ç”¨</h2><p>åŒæ­¥å®Œæˆä¹‹åï¼Œæˆ‘ä»¬å¯ä»¥åœ¨æˆ‘ä»¬è‡ªå·±çš„å·¥ç¨‹ä¸­ä½¿ç”¨è¿™ä¸ªèœå•ç»„ä»¶äº†ã€‚</p>
<h3 id="ç”³æ˜å…¨å±€ç»„ä»¶"><a href="#ç”³æ˜å…¨å±€ç»„ä»¶" class="headerlink" title="ç”³æ˜å…¨å±€ç»„ä»¶"></a>ç”³æ˜å…¨å±€ç»„ä»¶</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">private ContextMenuDialogFragment contextMenuDialogFragment;</div><div class="line">private FragmentManager fragmentManager;</div></pre></td></tr></table></figure>
<h3 id="åˆ›å»ºèœå•é¡¹çš„ç»„ä»¶"><a href="#åˆ›å»ºèœå•é¡¹çš„ç»„ä»¶" class="headerlink" title="åˆ›å»ºèœå•é¡¹çš„ç»„ä»¶"></a>åˆ›å»ºèœå•é¡¹çš„ç»„ä»¶</h3><h4 id="åˆ›å»ºMenuList"><a href="#åˆ›å»ºMenuList" class="headerlink" title="åˆ›å»ºMenuList"></a>åˆ›å»ºMenuList</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line">ArrayList&lt;MenuObject&gt; menuObjects = new ArrayList&lt;&gt;();</div><div class="line"></div><div class="line">MenuObject close = new MenuObject();</div><div class="line">close.setResource(R.drawable.icn_close);</div><div class="line"></div><div class="line">MenuObject icn1 = new MenuObject(<span class="string">"icn1"</span>);</div><div class="line">icn1.setResource(R.drawable.icn_1);</div><div class="line"></div><div class="line">MenuObject icn2 = new MenuObject(<span class="string">"icn2"</span>);</div><div class="line">icn2.setResource(R.drawable.icn_2);</div><div class="line">icn2.setBgColor(Color.parseColor(<span class="string">"#000000"</span>));</div><div class="line"></div><div class="line">MenuObject icn3 = new MenuObject(<span class="string">"icn3"</span>);</div><div class="line">icn3.setColor(Color.parseColor(<span class="string">"#0000ff"</span>));</div><div class="line"></div><div class="line">menuObjects.add(close);</div><div class="line">menuObjects.add(icn1);</div><div class="line">menuObjects.add(icn2);</div><div class="line">menuObjects.add(icn3);</div></pre></td></tr></table></figure>
<h4 id="å¯¹èœå•å­é¡¹è¿›è¡Œé…ç½®"><a href="#å¯¹èœå•å­é¡¹è¿›è¡Œé…ç½®" class="headerlink" title="å¯¹èœå•å­é¡¹è¿›è¡Œé…ç½®"></a>å¯¹èœå•å­é¡¹è¿›è¡Œé…ç½®</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">//1	åˆ›å»ºèœå•ç»„ä»¶</div><div class="line">MenuParams menuParams = new MenuParams();</div><div class="line">//2	å°†å­é¡¹ç»„ä»¶åŠ å…¥</div><div class="line">menuParams.setMenuObjects(menuObjects);</div><div class="line">//3	ç‚¹å‡»ç©ºç™½åœ°åŒºå¯ä»¥å–æ¶ˆå…³é—­èœå•</div><div class="line">menuParams.setClosableOutside(<span class="literal">true</span>);</div><div class="line">//4	è®¾ç½®æ¯ä¸ªèœå•å­é¡¹çš„å¤§å°</div><div class="line">menuParams.setActionBarSize(200);</div></pre></td></tr></table></figure>
<h4 id="æ³¨"><a href="#æ³¨" class="headerlink" title="æ³¨"></a>æ³¨</h4><p>æ ¹æ®å®˜æ–¹æ–‡æ¡£ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡å¤šç§æ–¹å¼å¯¹èœå•å­é¡¹è¿›è¡Œé…ç½®<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">item.setResource(...)  </div><div class="line">item.setBitmap(...)  </div><div class="line">item.setDrawable(...)  </div><div class="line">item.setColor(...)</div></pre></td></tr></table></figure></p>
<h3 id="å¯¹ContextMenuDialogFragmentè¿›è¡Œå®ä¾‹åŒ–"><a href="#å¯¹ContextMenuDialogFragmentè¿›è¡Œå®ä¾‹åŒ–" class="headerlink" title="å¯¹ContextMenuDialogFragmentè¿›è¡Œå®ä¾‹åŒ–"></a>å¯¹ContextMenuDialogFragmentè¿›è¡Œå®ä¾‹åŒ–</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">//è®¾ç½®å®ä¾‹åŒ–</div><div class="line">contextMenuDialogFragment = ContextMenuDialogFragment.newInstance(menuParams);</div><div class="line">//æ‰“å¼€OnClickæ–¹æ³•</div><div class="line">contextMenuDialogFragment.setItemClickListener(this);</div><div class="line">//æ‰“å¼€LongOnClickæ–¹æ³•</div><div class="line">contextMenuDialogFragment.setItemLongClickListener(this);</div></pre></td></tr></table></figure>
<p>æ³¨æ„ï¼Œåœ¨æ‰“å¼€OnClickå’ŒLongOnClickçš„æ—¶å€™ï¼Œéœ€è¦æ·»åŠ æ¥å£ã€‚Alt+Enterå³å¯ã€‚<br><img src="/2017/07/17/android2/4.png" alt="å¼•ç”¨OnClickæ¥å£" title="å¼•ç”¨OnClickæ¥å£"></p>
<h3 id="è®¾ç½®æ‰“å¼€ContextMenuDialogFragmentçš„èœå•æŒ‰é’®"><a href="#è®¾ç½®æ‰“å¼€ContextMenuDialogFragmentçš„èœå•æŒ‰é’®" class="headerlink" title="è®¾ç½®æ‰“å¼€ContextMenuDialogFragmentçš„èœå•æŒ‰é’®"></a>è®¾ç½®æ‰“å¼€ContextMenuDialogFragmentçš„èœå•æŒ‰é’®</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line">@Override</div><div class="line">public boolean onCreateOptionsMenu(final Menu menu) &#123;</div><div class="line">    MenuInflater inflater = getMenuInflater();</div><div class="line">    inflater.inflate(R.menu.menu_main, menu);</div><div class="line">    <span class="built_in">return</span> <span class="literal">true</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line">@Override</div><div class="line">public boolean onOptionsItemSelected(MenuItem item) &#123;</div><div class="line">    switch (item.getItemId()) &#123;</div><div class="line">        <span class="keyword">case</span> R.id.context_menu:</div><div class="line">            contextMenuDialogFragment.show(fragmentManager, <span class="string">"ContextMenuDialogFragment"</span>);</div><div class="line">            <span class="built_in">break</span>;</div><div class="line">    &#125;</div><div class="line">    <span class="built_in">return</span> super.onOptionsItemSelected(item);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>æ³¨ï¼šéœ€è¦å†res/menu/menu_main.xmlä¸­é…ç½®ä¸€ä¸‹èœå•é¡¹ã€‚<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">&lt;item</div><div class="line">    android:id=<span class="string">"@+id/context_menu"</span></div><div class="line">    android:title=<span class="string">"Context menu"</span></div><div class="line">    android:icon=<span class="string">"@drawable/btn_add"</span></div><div class="line">    android:orderInCategory=<span class="string">"100"</span></div><div class="line">    app:showAsAction=<span class="string">"always"</span> /&gt;</div></pre></td></tr></table></figure></p>
<h3 id="å®ç°onItemClickæ–¹æ³•"><a href="#å®ç°onItemClickæ–¹æ³•" class="headerlink" title="å®ç°onItemClickæ–¹æ³•"></a>å®ç°onItemClickæ–¹æ³•</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">  @Override</div><div class="line">  public void onMenuItemClick(View clickedView, int position) &#123;</div><div class="line">//æ ¹æ®positionå®ç°è‡ªå·±çš„æ–¹æ³•</div><div class="line">      Log.e(<span class="string">"bili"</span>,position+<span class="string">"   OK"</span>);</div><div class="line">  &#125;</div></pre></td></tr></table></figure>
<p>è¿™æ ·æˆ‘ä»¬å°±å®ç°æœ€åŸºæœ¬çš„Context-Menu.Androidçš„é…ç½®ä½¿ç”¨ã€‚<br>æ¯•ç«Ÿå¼€æºçš„ä»£ç ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥æ ¹æ®è‡ªå·±çš„éœ€è¦ï¼Œç„¶åå®šåˆ¶è‡ªå·±çš„åŠŸèƒ½ã€‚</p>
<p>ç„¶åå¥‰ä¸Šè‡ªå·±çš„å®åŠ›ä»£ç å—ã€‚<br><a href="UItest.rar">ç»™ä½ çœ‹ä¸ªå®è´</a></p>
]]></content>
      
        <categories>
            
            <category> androidå­¦ä¹ ä¹‹è·¯ </category>
            
        </categories>
        
        
        <tags>
            
            <tag> android </tag>
            
            <tag> UIç•Œé¢ </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[å¤åˆ¶å°±èƒ½ç”¨ç³»åˆ—ä¹‹Okhttp]]></title>
      <url>/2017/07/13/android1/</url>
      <content type="html"><![CDATA[<p>é¦–å…ˆè¦æƒ³è¿›è¡Œandroidå¼€å‘çš„è¯ï¼Œç½‘ç»œäº¤äº’è‚¯å®šæ˜¯å…ä¸äº†çš„ã€‚ä¹‹å‰ä¸€ç›´ç”¨çš„æ˜¯<a href="https://github.com/loopj/android-async-http" target="_blank" rel="external">Android-Async-Http</a>,ä½†åæ¥å¬è¯´å› ä¸ºandroidæŠŠHttpClientç»™å–æ¶ˆæ‰äº†ï¼Œäºæ˜¯åŸºäºHttpClientåˆ›å»ºçš„android-async-httpä¹Ÿå°±å¤±å»äº†ç»§ç»­ç•™ä¸‹å»çš„å¿…è¦ï¼Œæ‰€ä»¥ä½œè€…ä¹Ÿå·²ç»åœæ­¢äº†è¯¥é¡¹ç›®çš„ç»´æŠ¤ï¼ŒAndroid5.0ä¹‹åä¾¿ä¸åœ¨æ¨èåœ¨é¡¹ç›®ä¸­è¿›è¡Œä½¿ç”¨ã€‚æ‰€ä»¥ä¹Ÿæ˜¯æœ‰å¿…è¦å¥½å¥½å­¦ä¹ ä¸€ä¸‹Okhttpäº†ã€‚<br>(åºŸè¯å¾ˆå¤šï¼Œçœ‹æ¥ä»¥åè¿˜æ˜¯è¦æ”¹æ”¹å•Šã€‚ğŸ˜…)<br><a id="more"></a>    </p>
<h2 id="é…ç½®"><a href="#é…ç½®" class="headerlink" title="é…ç½®"></a>é…ç½®</h2><p>æœ‰ä¸¤ç§å¼•å…¥çš„æ–¹å¼ï¼Œä¸€ä¸ªæ˜¯å¼•å…¥JaråŒ…ï¼Œç›´æ¥æœ¬åœ°ä½¿ç”¨ï¼Œç¬¬äºŒç§æ–¹å¼åœ¨Gradleä¸­ï¼Œç›´æ¥é…ç½®ã€‚</p>
<h3 id="ä½¿ç”¨JaråŒ…"><a href="#ä½¿ç”¨JaråŒ…" class="headerlink" title="ä½¿ç”¨JaråŒ…"></a>ä½¿ç”¨JaråŒ…</h3><p>ç•¥</p>
<h3 id="Gradleä¸­ä½¿ç”¨"><a href="#Gradleä¸­ä½¿ç”¨" class="headerlink" title="Gradleä¸­ä½¿ç”¨"></a>Gradleä¸­ä½¿ç”¨</h3><p>ä½¿ç”¨androidStudioçš„ç”¨æˆ·å¯ä»¥ç›´æ¥ä½¿ç”¨Gradleä¸­å¼•å…¥okHttpã€‚</p>
<p>1.åœ¨okHttpçš„githubä¸Šé¢,æ‰¾åˆ° compile â€˜com.squareup.okhttp3:okhttp:3.8.1â€™ å¹¶å¤åˆ¶ã€‚<br><img src="/2017/07/13/android1/1.png" alt="æ‰¾åˆ°ä½¿ç”¨çš„Gradleä»£ç " title="æ‰¾åˆ°ä½¿ç”¨çš„Gradleä»£ç "><br>2.åœ¨Gradleä¸­è¿›è¡Œé…ç½®ã€‚å°†åˆšæ‰å¤åˆ¶çš„ä»£ç å¤åˆ¶åˆ°å¦‚å›¾æ‰€ç¤ºçš„åœ°æ–¹ï¼Œç„¶åç‚¹å‡»åŒæ­¥ï¼ŒåŒæ­¥å®Œäº†ä¹‹åå°±ä¼šè‡ªåŠ¨å¼•ç”¨äº†ã€‚<br><img src="/2017/07/13/android1/2.png" alt="gradleä¸­çš„é…ç½®" title="gradleä¸­çš„é…ç½®"></p>
<h2 id="okHttpçš„åŸºæœ¬ä½¿ç”¨"><a href="#okHttpçš„åŸºæœ¬ä½¿ç”¨" class="headerlink" title="okHttpçš„åŸºæœ¬ä½¿ç”¨"></a>okHttpçš„åŸºæœ¬ä½¿ç”¨</h2><h3 id="gitè¯·æ±‚"><a href="#gitè¯·æ±‚" class="headerlink" title="gitè¯·æ±‚"></a>gitè¯·æ±‚</h3><p>ä¸€å…±å¯ä»¥åˆ†ä¸º4å„éƒ¨åˆ†è¿›è¡Œæ¥è¿›è¡Œä½¿ç”¨ã€‚</p>
<pre><code class="bash"><span class="comment">#1.é¦–å…ˆå»ºç«‹ä¸€ä¸ªOkHttpClientå¯¹è±¡</span>
OkHttpClient okHttpClient = new OkHttpClient();
<span class="comment">#2.é…ç½®æˆ‘ä»¬çš„request</span>
Request.Builder builder = new Request.Builder();
Request request = builder
                .get()
                .url(<span class="string">"http://192.168.1.4:8000"</span>)
                .build();
<span class="comment">#3.ç”³æ˜æ‰§è¡Œè¯¥ä»»åŠ¡çš„å¯¹è±¡</span>
Call call = okHttpClient.newCall(request);
<span class="comment">#4.å¼€å§‹æ‰§è¡Œ</span>
call.enqueue(new <span class="function"><span class="title">Callback</span></span>() {
            @Override
            public void onFailure(Call call, IOException e) {
                Log.e(<span class="string">"getè¯·æ±‚å¤±è´¥"</span>);
            }

            @Override
            public void onResponse(Call call, Response response) throws IOException {
                Log.e(<span class="string">"getè¯·æ±‚æˆåŠŸ"</span>);
                String str = response.body().string();
                Log.e(str);
            }
        });
</code></pre>
<h3 id="postè¯·æ±‚"><a href="#postè¯·æ±‚" class="headerlink" title="postè¯·æ±‚"></a>postè¯·æ±‚</h3><p>ä¼ é€’key-valueå¯¹å¯ä»¥ä½¿ç”¨æäº¤è¡¨å•çš„æ–¹å¼</p>
<pre><code class="bash">//1.é¦–å…ˆåˆ›å»ºä¸€ä¸ªè¡¨å•
FormBody.Builder formBuilder = new FormBody.Builder();
formBuilder.add(<span class="string">"key"</span>,<span class="string">"value"</span>);
//2.é€šè¿‡è¡¨å•åˆ›å»ºè‡ªå·±çš„requestBody
RequestBody requestBody = formBuilder.build();
//3.åˆ›å»ºè‡ªå·±çš„requestã€‚å°†requestBodyä½œä¸ºå‚æ•°ä¼ è¿›å»ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬çš„key-valueå¯¹
Request.Builder builder = new Request.Builder();
Request request = builder
        .post(requestBody)
        .url(url)
        .build();
//4.ä½¿ç”¨callæ–¹æ³•,æ‰§è¡Œè¯­å¥
Call call = okHttpClient.newCall(request);
call.enqueue(new <span class="function"><span class="title">Callback</span></span>() {
    @Override
    public void onFailure(Call call, IOException e) {
        Log.e(TAG, <span class="string">"onFailure: "</span> );
    }
    @Override
    public void onResponse(Call call, Response response) throws IOException {
        String str = response.body().string();
        Log.e(TAG, <span class="string">"onResponse: "</span>+str.toString() );
    }
});
</code></pre>
<h3 id="uploadä¸€å¼ å›¾ç‰‡"><a href="#uploadä¸€å¼ å›¾ç‰‡" class="headerlink" title="uploadä¸€å¼ å›¾ç‰‡"></a>uploadä¸€å¼ å›¾ç‰‡</h3><p>å…¶å®ä¹Ÿæ˜¯é€šè¿‡postçš„æ–¹æ³•å®ç°ä¸Šä¼ ï¼Œåªä¸è¿‡æ˜¯æŠŠæˆ‘ä»¬çš„å‚æ•°æ¢æˆäº†æ–‡ä»¶ï¼Œè€Œä¸æ˜¯key-valueå¯¹</p>
<pre><code class="bash">public static void upLoadFile(String url,String filepath){
//æ£€æµ‹ä¼ æ¥çš„æ–‡ä»¶æ˜¯å¦å­˜åœ¨
    File file = new File(filepath);
    <span class="keyword">if</span>(!file.exists()){
        Log.e(TAG, <span class="string">"upLoadFile: æ–‡ä»¶ä¸å­˜åœ¨"</span>);
        <span class="built_in">return</span>;
    }
    RequestBody requestBodyfile = RequestBody.create(MediaType.parse(<span class="string">"application/octet-stream"</span>),file);
    //æ„å»ºä¸€ä¸ªæ–‡ä»¶ç±»å‹çš„requestBody
    MultipartBody.Builder mulitiparBuilder = new MultipartBody.Builder();
    //è¿™é‡Œä¹Ÿå¯ä»¥é€šè¿‡é”®å€¼å¯¹çš„æ–¹å¼å®ç°æ·»åŠ å‚æ•°
    RequestBody requestBody = mulitiparBuilder
            .setType(MultipartBody.FORM)
            //addFormDataPart(ç”¨äºæœåŠ¡å™¨è¯†åˆ«çš„æ ‡è¯†ï¼ŒæœåŠ¡å™¨æ¥æ”¶åæ–‡ä»¶çš„åå­—ï¼Œæ–‡ä»¶-requestBody)
            .addFormDataPart(<span class="string">"mPhoto"</span>, <span class="string">"photo.jpg"</span>, requestBodyfile)
            .build();

    Request.Builder builder = new Request.Builder();
    Request request = builder.url(url)
        .post(requestBody)
        .build();

    Call call =  new OkHttpClient().newCall(request);
    call.enqueue(new <span class="function"><span class="title">Callback</span></span>() {
        @Override
        public void onFailure(Call call, IOException e) {
            Log.e(TAG, <span class="string">"onFailure: å¤±è´¥"</span>);
        }
        @Override
        public void onResponse(Call call, Response response) throws IOException {
            Log.e(TAG, <span class="string">"onResponse: æˆåŠŸ"</span> );
        }
    });
}
</code></pre>
]]></content>
      
        <categories>
            
            <category> androidå­¦ä¹ ä¹‹è·¯ </category>
            
        </categories>
        
        
        <tags>
            
            <tag> android </tag>
            
            <tag> okhttp </tag>
            
            <tag> æ‡’äººä¸“ç”¨ </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[Hello World]]></title>
      <url>/2017/07/12/hello-world/</url>
      <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/" target="_blank" rel="external">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/" target="_blank" rel="external">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html" target="_blank" rel="external">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="external">GitHub</a>.<br><a id="more"></a></p>
<h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ hexo new <span class="string">"My New Post"</span></div></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/writing.html" target="_blank" rel="external">Writing</a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ hexo server</div></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/server.html" target="_blank" rel="external">Server</a></p>
<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ hexo generate</div></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/generating.html" target="_blank" rel="external">Generating</a></p>
<h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ hexo deploy</div></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/deployment.html" target="_blank" rel="external">Deployment</a></p>
]]></content>
      
        <categories>
            
            <category> ä½¿ç”¨hexoå®ç°githubåšå®¢æ­å»º </category>
            
        </categories>
        
        
        <tags>
            
            <tag> nodejs </tag>
            
            <tag> hexo </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[Hexoæ­å»ºè‡ªå·±çš„åšå®¢]]></title>
      <url>/2017/07/12/first/</url>
      <content type="html"><![CDATA[<p>ä»Šå¤©æ­å»ºäº†ä¸€ä¸ªå±äºè‡ªå·±çš„blogï¼Œä»¥ååº”è¯¥ä¼šå°†ä»–ä¸€æ­¥ä¸€æ­¥çš„å˜å¾—æ›´åŠ æ¼‚äº®ä¸€ç‚¹ã€‚ã€‚ã€‚</p>
<a id="more"></a> 
<p>ä»Šå¤©å°±å…ˆå†™ä¸€ç‚¹æœ€åŸºç¡€çš„é…ç½®çš„ä¸œè¥¿ã€‚</p>
<h2 id="hexoåŸºç¡€é…ç½®"><a href="#hexoåŸºç¡€é…ç½®" class="headerlink" title="hexoåŸºç¡€é…ç½®"></a>hexoåŸºç¡€é…ç½®</h2><p><a href="https://hexo.io" target="_blank" rel="external">hexoçš„å®˜ç½‘é“¾æ¥</a></p>
<h3 id="ä¸‹è½½å®‰è£…ä»¥åŠä½¿ç”¨"><a href="#ä¸‹è½½å®‰è£…ä»¥åŠä½¿ç”¨" class="headerlink" title="ä¸‹è½½å®‰è£…ä»¥åŠä½¿ç”¨"></a>ä¸‹è½½å®‰è£…ä»¥åŠä½¿ç”¨</h3><p>windowsç¯å¢ƒä¸‹çš„è¯ï¼Œä½ é¦–å…ˆçš„è¦ä¿è¯è‡ªå·±çš„å·²ç»è£…å¥½äº†nodeä»¥åŠGitï¼ˆåé¢é…ç½®ç”¨å¾—ç€ï¼‰ã€‚ç„¶åé€šè¿‡nodeçš„npmè¿›è¡Œå®‰è£…ã€‚</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">$ npm install hexo-cli -g	<span class="comment">#ä¸‹è½½å®‰è£…hexoï¼Œé€Ÿåº¦å¯èƒ½æ¯”è¾ƒæ…¢</span></div><div class="line">$ hexo init blog		<span class="comment">#é€‰æ‹©æ–‡ä»¶å­˜æ”¾ä½ç½®å®‰è£… hexo init F:/hexo</span></div><div class="line">$ <span class="built_in">cd</span> blog			<span class="comment">#åˆ‡æ¢åˆ°åˆ›å»ºçš„å·¥ç¨‹æ–‡ä»¶ç›®å½•ä¹‹ä¸‹</span></div><div class="line">$ npm install			<span class="comment">#å¯¹æ–°å»ºçš„å·¥ç¨‹è¿›è¡Œå®‰è£…é…ç½®</span></div><div class="line">$ hexo server			<span class="comment">#å¼€å¯æˆ‘ä»¬æ–°å»ºçš„é¡¹ç›®ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨hexo s</span></div></pre></td></tr></table></figure>
<p>ç°åœ¨æ‰“å¼€æˆ‘ä»¬<a href="https://localhost:4000" target="_blank" rel="external">localhost:4000</a>ï¼Œå¯ä»¥çœ‹åˆ°hexoçš„é»˜è®¤ç•Œé¢ï¼Œå½“ç„¶æˆ‘ä»¬æ¥ä¸‹æ¥å°±è¦å¯¹å…¶è¿›è¡Œä¿®æ”¹ã€‚</p>
<p><img src="https://volc1605.github.io/images/Hexoä¹‹NexTä¸»é¢˜æ­å»ºåšå®¢è¯¦ç»†è¿‡ç¨‹/h.png" alt="hexo"></p>
<h2 id="githubä¸­åˆ›å»ºè‡ªå·±çš„ç«™ç‚¹"><a href="#githubä¸­åˆ›å»ºè‡ªå·±çš„ç«™ç‚¹" class="headerlink" title="githubä¸­åˆ›å»ºè‡ªå·±çš„ç«™ç‚¹"></a>githubä¸­åˆ›å»ºè‡ªå·±çš„ç«™ç‚¹</h2><h3 id="ç”³è¯·githubè´¦å·"><a href="#ç”³è¯·githubè´¦å·" class="headerlink" title="ç”³è¯·githubè´¦å·"></a>ç”³è¯·githubè´¦å·</h3><p>ç­”æ¡ˆé€šä¿—ç§»åŠ¨ï¼Œç®€å•ä¸€ä¸ªå­—ï¼Œâ€œç•¥â€ã€‚</p>
<h3 id="åˆ›å»ºè‡ªå·±çš„ç«™ç‚¹"><a href="#åˆ›å»ºè‡ªå·±çš„ç«™ç‚¹" class="headerlink" title="åˆ›å»ºè‡ªå·±çš„ç«™ç‚¹"></a>åˆ›å»ºè‡ªå·±çš„ç«™ç‚¹</h3><p>æä¾›ä¸€ç¯‡<a href="http://blog.csdn.net/renfufei/article/details/37725057/" target="_blank" rel="external">å‚è€ƒæ–‡ç« </a>ã€‚åŸºæœ¬åˆ›å»ºå³å¯ï¼Œä¸»æ„ä¿æŒåˆ›å»ºçš„åå­—ä»¥åŠè‡ªå·±çš„ç”¨æˆ·åä¿æŒä¸€è‡´ã€‚</p>
<h2 id="åƒæ°´ä¸å¿˜æŒ–äº•äºº"><a href="#åƒæ°´ä¸å¿˜æŒ–äº•äºº" class="headerlink" title="åƒæ°´ä¸å¿˜æŒ–äº•äºº"></a>åƒæ°´ä¸å¿˜æŒ–äº•äºº</h2><p><a href="http://volcfamily.cn/2016/10/03/Hexo%E4%B9%8BNexT%E4%B8%BB%E9%A2%98%E6%90%AD%E5%BB%BA%E5%8D%9A%E5%AE%A2%E8%AF%A6%E7%BB%86%E8%BF%87%E7%A8%8B/" target="_blank" rel="external">http://volcfamily.cn/2016/10/03/Hexo%E4%B9%8BNexT%E4%B8%BB%E9%A2%98%E6%90%AD%E5%BB%BA%E5%8D%9A%E5%AE%A2%E8%AF%A6%E7%BB%86%E8%BF%87%E7%A8%8B/</a><br><a href="http://barrysite.me/2017/05/07/Github%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA/" target="_blank" rel="external">http://barrysite.me/2017/05/07/Github%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA/</a><br><a href="http://ibruce.info/2013/11/26/markdown/" target="_blank" rel="external">http://ibruce.info/2013/11/26/markdown/</a><br><a href="https://www.zhihu.com/question/23934523" target="_blank" rel="external">https://www.zhihu.com/question/23934523</a></p>
]]></content>
      
        <categories>
            
            <category> ä½¿ç”¨hexoå®ç°githubåšå®¢æ­å»º </category>
            
        </categories>
        
        
        <tags>
            
            <tag> nodejs </tag>
            
            <tag> hexo </tag>
            
            <tag> NexT </tag>
            
        </tags>
        
    </entry>
    
  
  
</search>
